<div class="clr-row">
  <div class="clr-col"></div>
  <div class="clr-col-xs-12 clr-col-md-6 d-flex align-items-center" style="min-height: 100vh;">
    <div class="card p-4 w-100">
      <h2 class="mb-4 text-center">Create New Form</h2>

      <!-- Display general error messages from the component -->
      <div *ngIf="errorMessage" class="alert alert-danger text-center mb-3">
        {{ errorMessage }}
      </div>

      <form clrForm [formGroup]="newForm" (ngSubmit)="onSubmit()">
        <!-- Title Field Section -->
        <clr-input-container>
          <label for="title">Title <span class="text-danger">*</span></label>
          <input clrInput type="text" id="title" formControlName="title" placeholder="Enter form title" />
          <clr-control-error *ngIf="title?.invalid && (title?.dirty || title?.touched)">
            <span *ngIf="title?.errors?.['required']">Title is required.</span>
            <span *ngIf="title?.errors?.['maxlength']">Title cannot exceed 100 characters.</span>
          </clr-control-error>
        </clr-input-container>

        <!-- Description Field Section -->
        <clr-textarea-container class="mt-3">
          <label for="description">Description</label>
          <textarea clrTextarea id="description" formControlName="description" placeholder="Enter form description (optional)" rows="4"></textarea>
          <clr-control-error *ngIf="description?.invalid && (description?.dirty || description?.touched)">
            <span *ngIf="description?.errors?.['maxlength']">Description cannot exceed 500 characters.</span>
          </clr-control-error>
        </clr-textarea-container>

        <!-- Form Action Buttons -->
        <div class="d-flex justify-content-between mt-4">
          <button type="submit" class="btn btn-primary" [disabled]="newForm.invalid || isSubmitting">
            {{ isSubmitting ? 'Creating...' : 'Create Form' }}
          </button>
          <button type="button" class="btn btn-outline-secondary" (click)="goBack()" [disabled]="isSubmitting">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="clr-col"></div>
</div>